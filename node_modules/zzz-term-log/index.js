var colors = require('colors/safe');

module.exports = function(dir) {
    global.logCnt = 1;

    global.log = function(msg, color, file) {
        color = color || 'green';
        console.log(
            (global.logCnt++).padLeft(2) + ': ' +
            colors[color](msg) +
            (file ? colors.yellow(' (' + file.split(dir)[1] + ')') : ''));
    }
}

Number.prototype.padLeft = function (n, str){
    return Array(n - String(this).length + 1).join(str || '0') + this;
}
